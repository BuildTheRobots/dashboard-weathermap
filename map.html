<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UK Weather Information Display</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap">
    <style>
        /* Ensures iframes take up the full height of their parent container */
        html, body {
            height: 100%;
            margin: 0;
            padding: 0;
            background-color: #f0f4f8; /* A light grey-blue background */
            font-family: 'Inter', sans-serif;
            overflow: hidden; /* Prevent scrolling */
        }
        /* Make header float */
        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 50;
            transition: transform 0.3s ease-in-out;
        }
        /* Class to hide the header */
        .header-hidden {
            transform: translateY(-100%);
        }
        /* Invisible trigger area for the header */
        #header-trigger {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 40px; /* A thin trigger area at the top */
            z-index: 49;
        }
        .map-container, .info-container {
            /* Full viewport height plus 40px to hide the bottom bar */
            height: calc(100vh + 40px); 
            min-height: 540px; /* Ensure a minimum height, adjusted */
        }
    </style>
</head>
<body class="flex flex-col">

    <div id="header-trigger"></div>

    <!-- Header -->
    <header class="bg-white shadow-md w-full p-4">
        <h1 class="text-2xl font-bold text-gray-800 text-center">Live UK & Ireland Weather & Analysis</h1>
        <p class="text-center text-gray-500">Rainfall, Wind Speed & Forecast Data</p>
    </header>

    <!-- Main Content with Maps and Info Panel -->
    <main class="flex-grow">
        <div class="grid grid-cols-1 lg:grid-cols-5 h-full">
            
            <!-- Rain Map -->
            <div class="shadow-lg overflow-hidden relative lg:col-span-2">
                <div class="map-container h-full">
                    <iframe 
                        src="https://embed.ventusky.com/?p=55.2;-4;5&l=rain-1h" 
                        class="w-full h-full border-0" 
                        frameborder="0"
                        title="Ventusky Rainfall Map for UK & Ireland">
                    </iframe>
                </div>
                <h2 class="absolute top-0 left-0 right-0 text-lg font-semibold text-white bg-blue-900/50 p-2 text-center z-10">Rainfall (Next hour)</h2>
            </div>

            <!-- Wind Map -->
            <div class="shadow-lg overflow-hidden relative lg:col-span-2">
                <div class="map-container h-full">
                     <iframe 
                        src="https://embed.ventusky.com/?p=55.2;-4;5&l=wind-10m" 
                        class="w-full h-full border-0" 
                        frameborder="0"
                        title="Ventusky Wind Speed Map for UK & Ireland">
                    </iframe>
                </div>
                <h2 class="absolute top-0 left-0 right-0 text-lg font-semibold text-white bg-green-900/50 p-2 text-center z-10">Wind Speed (10m)</h2>
            </div>

            <!-- Information Column -->
            <div class="shadow-lg overflow-hidden flex flex-col bg-white info-container lg:col-span-1">
                <h2 class="text-lg font-semibold text-white bg-purple-600 p-2 text-center">Analysis & Forecasts</h2>
                <div class="p-4 flex flex-col flex-grow">
                    
                    <!-- Top 2/3 Placeholder -->
                    <div class="flex-grow-[2]">
                        <p class="text-center text-gray-500 pt-8">Additional information panels will be displayed here.</p>
                    </div>
                    
                    <!-- Bottom 1/3 for the ducting map -->
                    <div class="relative flex flex-col flex-grow-[1]">
                         <h3 class="absolute top-0 left-0 right-0 z-10 text-md font-semibold text-white bg-black/50 text-center p-1">Tropospheric Ducting Forecast</h3>
                         <div class="flex-grow rounded-t border-t border-l border-r overflow-hidden" 
                              style="background-image: url('https://www.dxinfocentre.com/tr_map/fcst/nwe006.png'); background-size: 190%; background-position: 30% 65%; background-repeat: no-repeat;"
                              role="img"
                              aria-label="Tropospheric Ducting Map for North-West Europe, cropped to UK and Ireland">
                         </div>
                         <div class="h-6 rounded-b border-b border-l border-r overflow-hidden" 
                              style="background-image: url('https://www.dxinfocentre.com/tr_map/fcst/nwe006.png'); background-size: 190%; background-position: 79% 0%; background-repeat: no-repeat;"
                              role="img"
                              aria-label="Tropospheric Ducting Map Datestamp">
                         </div>
                    </div>
                </div>
            </div>

        </div>
    </main>
    
    <script>
        const header = document.querySelector('header');
        const headerTrigger = document.getElementById('header-trigger');

        // Hide header after 10 seconds on initial load
        const initialHideTimeout = setTimeout(() => {
            header.classList.add('header-hidden');
        }, 10000);

        // Show header when mouse enters the trigger zone at the top
        headerTrigger.addEventListener('mouseenter', () => {
            header.classList.remove('header-hidden');
            // Once manually revealed, we stop the initial hide timer if it hasn't fired yet
            clearTimeout(initialHideTimeout);
        });

        // Hide header again when mouse leaves the header area itself
        header.addEventListener('mouseleave', () => {
            header.classList.add('header-hidden');
        });

        console.log("Weather map page loaded.");
    </script>

</body>
</html>

